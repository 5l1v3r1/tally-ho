<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>{{ getOr .Entry "name" "a post" }}</title>
    <link href="https://fonts.googleapis.com/css?family=Signika+Negative&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/public/normalize.css" type="text/css" />
    <link rel="stylesheet" href="/public/styles.css" type="text/css" />
  </head>
  <body>
    <nav>
      <a href="/">&uarr; Back to the feed</a>
    </nav>

    {{ template "entry.gotmpl" .Entry }}

    {{ if .Mentions }}
      <section class="reactions">
        <ol>
          {{ range .Mentions }}
            <li>
              {{ if has .Properties "in-reply-to" }}
                Reply from
              {{ else if has .Properties "repost-of" }}
                Reposted by
              {{ else if has .Properties "like-of" }}
                Liked by
              {{ else }}
                Mentioned by
              {{ end }}
              <a href="{{ .Subject }}">
                {{ if has .Properties "author" }}
                  {{ if has .Properties "author.properties.name" }}
                    {{ get .Properties "author.properties.name" }}
                  {{ else }}
                    {{ get .Properties "author.properties.url" }}
                  {{ end }}
                {{ else }}
                  {{ .Subject }}
                {{ end }}
              </a>
            </li>
          {{ end }}
        </ol>
      </section>
    {{ end }}
    
    {{ template "footer.gotmpl" . }}

  </body>
</html>
